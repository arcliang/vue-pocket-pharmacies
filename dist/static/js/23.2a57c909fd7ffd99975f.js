webpackJsonp([23],{Obk2:function(t,e){},ae46:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={name:"search",data:function(){return{keyWord:"",clearShow:!1,history:[],hotSearchKey:[]}},methods:{clearAll:function(){this.keyWord=""},searchClick:function(){""!=this.keyWord.trim()&&(this.$store.dispatch("set_search_history",this.keyWord),this.$router.push("/searchResult/"+this.keyWord))},clearHistory:function(){this.history=[],this.$store.dispatch("clear_history")}},components:{helmet:s("aM3M").a},watch:{keyWord:function(t){this.clearShow=!(""==t.trim())}},created:function(){var t=this;this.history=this.$store.getters.search_history,this.api.home.hotSearchKey().then(function(e){t.hotSearchKey=e})},mounted:function(){document.getElementById("keywordInput").focus()}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("helmet",{attrs:{url:"/",title:"搜索"}}),t._v(" "),s("div",{staticClass:"search-box"},[s("div",{staticClass:"search-text"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"search-input",attrs:{id:"keywordInput"},domProps:{value:t.keyWord},on:{input:function(e){e.target.composing||(t.keyWord=e.target.value)}}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.clearShow,expression:"clearShow"}],staticClass:"search-clear",on:{click:function(e){t.clearAll()}}})]),t._v(" "),s("div",{staticClass:"font26 search-button",on:{click:function(e){t.searchClick()}}},[s("a",{attrs:{id:"search-btn"}},[t._v("搜索")])])]),t._v(" "),t.hotSearchKey.length>0?s("div",{staticClass:"keyword-box"},[t._m(0),t._v(" "),s("div",{staticClass:"keyword-content"},t._l(t.hotSearchKey,function(e,r){return s("a",{key:r,staticClass:"search-item",attrs:{href:"#/searchResult/"+e}},[t._v("\n        "+t._s(e)+"\n      ")])}))]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.history.length>0,expression:"history.length>0"}],staticClass:"search-history"},[s("div",{staticClass:"history"},[t._v("\n      最近搜索过\n    ")]),t._v(" "),t._l(t.history,function(e,r){return s("div",{key:r,staticClass:"history-item"},[s("a",{attrs:{href:"#/searchResult/"+e},domProps:{textContent:t._s(e)}})])}),t._v(" "),s("div",{staticClass:"clear-history"},[s("button",{attrs:{type:"button"},on:{click:function(e){t.clearHistory()}}},[t._v("清除搜索历史")])])],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"keyword-header"},[e("div",{staticClass:"fl"},[this._v("\n        热门搜索\n      ")])])}]};var i=s("vSla")(r,a,!1,function(t){s("Obk2")},"data-v-119dcd89",null);e.default=i.exports}});
//# sourceMappingURL=23.2a57c909fd7ffd99975f.js.map