webpackJsonp([16],{DBwD:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("yvAY");var a=s("fc0N"),i=s.n(a),n=(s("PBmY"),s("I4Nl")),d=s.n(n),o=s("aM3M"),r=s("ybTM"),c={name:"addressManage",data:function(){return{dataList:[]}},components:{helmet:o.a,checkbox:r.a},methods:{setDefault:function(e){var t=this,s={addressId:e.id,consignee:e.consignee,deliveryAddress:e.deliveryAddress,deliveryZipCode:e.deliveryZipCode,mobilePhone:e.mobilePhone,landlinePhone:e.landlinePhone,regionId:e.regionId,isDefault:!e.isDefault};this.api.order.editDeliveryAddress(s).then(function(e){"200"==e.code?(t.dataList=[],t.pageLoad()):d()(e.message)})},delAddress:function(e){var t=this;i.a.confirm("确定要删除？").then(function(s){t.api.order.deleteAddress(e).then(function(e){"200"==e.code?t.pageLoad():d()(e.message)})},function(){})},pageLoad:function(){var e=this;this.api.order.getDeliveryAddress().then(function(t){if("200"==t.code){e.dataList=[];var s=t.model.filter(function(e){if(e.isDefault)return e}),a=0;s.length>0&&(e.dataList.push(s[0]),a=s[0].id),t.model.map(function(t){t.id!=a&&e.dataList.push(t)})}else d()(t.message)})}},created:function(){this.$store.getters.jwt?this.pageLoad():this.$router.push("login")}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"addressManage"},[s("helmet",{attrs:{title:"收货地址","show-right":!0}}),e._v(" "),s("div",{staticClass:"address-content"},[e._l(e.dataList,function(t){return s("div",{key:t.id,staticClass:"address-item"},[s("h3",[s("span",{staticClass:"name",domProps:{textContent:e._s(t.consignee)}}),e._v(" "),s("span",{staticClass:"phone-number",domProps:{textContent:e._s(t.mobilePhone)}})]),e._v(" "),s("div",{staticClass:"info"},[s("p",[e._v("\n              "+e._s(t.province)+e._s(t.city)+e._s(t.area)+e._s(t.deliveryAddress)+"\n            ")])]),e._v(" "),s("div",{staticClass:"i-foot"},[s("span",{staticClass:"set-default-btn default-address-btn"},[s("checkbox",{attrs:{checked:t.isDefault,action:e.setDefault,"result-value":t}}),e._v("\n              "+e._s(t.isDefault?"默认地址":"设为默认地址")+"\n            ")],1),e._v(" "),s("div",{staticClass:"actions"},[s("a",{staticClass:"edit-btn",attrs:{href:"#/setaddress/"+t.id}},[s("i",{staticClass:"icon icon-edit"}),e._v("\n                编辑\n              ")]),e._v(" "),s("a",{staticClass:"delete-btn",on:{click:function(s){e.delAddress(t.id)}}},[s("i",{staticClass:"icon icon-delete"}),e._v("\n                删除\n              ")])])])])}),e._v(" "),s("div",{staticClass:"address-hight"}),e._v(" "),e._m(0)],2)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"add-address-btn"},[t("a",{attrs:{href:"#/setaddress"}},[t("i",{staticClass:"icon iconfont icon-plus"},[this._v("+")]),this._v("\n          新建地址\n        ")])])}]};var u=s("vSla")(c,l,!1,function(e){s("IOrg")},"data-v-6daa6f0e",null);t.default=u.exports},IOrg:function(e,t){}});
//# sourceMappingURL=16.54880ad9827e730ba32a.js.map