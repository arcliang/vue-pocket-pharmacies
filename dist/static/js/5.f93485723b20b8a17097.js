webpackJsonp([5],{Kzx6:function(e,t){},Mt9p:function(e,t){"v0.4.6 Geetest Inc.";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";if(void 0===e)throw new Error("Geetest requires browser environment");var t=e.document,i=e.Math,r=t.getElementsByTagName("head")[0];function a(e){this._obj=e}function o(e){var t=this;new a(e)._each(function(e,n){t[e]=n})}a.prototype={_each:function(e){var t=this._obj;for(var n in t)t.hasOwnProperty(n)&&e(n,t[n]);return this}},o.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){return s(this.type)?this.fallback_config[this.type]:this.new_captcha?this.fallback_config.fullpage:this.fallback_config.slide},_extend:function(e){var t=this;new a(e)._each(function(e,n){t[e]=n})}};var s=function(e){return"string"==typeof e},c=function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e},l={},u={},d=function(e,t,n,i){t=function(e){return e.replace(/^https?:\/\/|\/$/g,"")}(t);var r=function(e){return 0!==(e=e.replace(/\/+/g,"/")).indexOf("/")&&(e="/"+e),e}(n)+function(e){if(!e)return"";var t="?";return new a(e)._each(function(e,n){(s(n)||function(e){return"number"==typeof e}(n)||function(e){return"boolean"==typeof e}(n))&&(t=t+encodeURIComponent(e)+"="+encodeURIComponent(n)+"&")}),"?"===t&&(t=""),t.replace(/&$/,"")}(i);return t&&(r=e+t+r),r},f=function(e,n,i,a,o){!function s(c){!function(e,n){var i=t.createElement("script");i.charset="UTF-8",i.async=!0,i.onerror=function(){n(!0)};var a=!1;i.onload=i.onreadystatechange=function(){a||i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(a=!0,setTimeout(function(){n(!1)},0))},i.src=e,r.appendChild(i)}(d(e,n[c],i,a),function(e){e?c>=n.length-1?o(!0):s(c+1):o(!1)})}(0)},p=function(t,n,r,a){if(c(r.getLib))return r._extend(r.getLib),void a(r);if(r.offline)a(r._get_fallback_config());else{var o="geetest_"+(parseInt(1e4*i.random())+(new Date).valueOf());e[o]=function(t){"success"==t.status?a(t.data):t.status?a(r._get_fallback_config()):a(t),e[o]=void 0;try{delete e[o]}catch(e){}},f(r.protocol,t,n,{gt:r.gt,callback:o},function(e){e&&a(r._get_fallback_config())})}},h=function(e,t){var n={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!=typeof t.onError)throw new Error(n[e]);t.onError(n[e])};(e.Geetest||t.getElementById("gt_lib"))&&(u.slide="loaded"),e.initGeetest=function(t,n){var i=new o(t);t.https?i.protocol="https://":t.protocol||(i.protocol=e.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==t.gt&&"3bd38408ae4af923ed36e13819b14d42"!==t.gt||(i.apiserver="yumchina.geetest.com/",i.api_server="yumchina.geetest.com"),c(t.getType)&&i._extend(t.getType),p([i.api_server||i.apiserver],i.typePath,i,function(t){var r=t.type,a=function(){i._extend(t),n(new e.Geetest(i))};l[r]=l[r]||[];var o=u[r]||"init";"init"===o?(u[r]="loading",l[r].push(a),f(i.protocol,t.static_servers||t.domains,t[r]||t.path,null,function(e){if(e)u[r]="fail",h("networkError",i);else{u[r]="loaded";for(var t=l[r],n=0,a=t.length;n<a;n+=1){var o=t[n];"function"==typeof o&&o()}l[r]=[]}})):"loaded"===o?a():"fail"===o?h("networkError",i):"loading"===o&&l[r].push(a)})}}(window)},NxzY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("PBmY");var i=n("I4Nl"),r=n.n(i),a=(n("RTFJ"),n("s9Cd")),o=n.n(a),s=(n("Kzx6"),n("cefO")),c=n.n(s),l=n("aM3M"),u=n("f+JS");n("Mt9p");var d=/^((1[3,5,8][0-9])|(14[5,7])|(17[0,6,7,8])|(19[7]))\d{8}$/,f={name:"register",data:function(){return{phonenumber:"",password:"",verification:"",openEye:!1,eyeClass:"eye-close",inputType:"password",checkPass:!1,agree:["1"],optionsList:[{label:"同意药居士网上药店注册协议",value:"1"}],validateCode:"",canSubmit:!1,backNum:0,validateSuccess:!1,area:!1,geetest:{}}},components:{helmet:l.a,footerDom:u.a,mtChecklist:c.a,mtField:o.a},methods:{eyeMethod:function(){this.openEye=!this.openEye,this.openEye?(this.eyeClass="eye-open",this.inputType="text"):(this.eyeClass="eye-close",this.inputType="password")},checkPassWord:function(){return this.password.length>5&&this.password.length<21},checkPhone:function(){return!d.test(this.phonenumber)||this.backNum>0||!this.checkPassWord()?(this.checkPass=!1,"disabled"):(this.checkPass=!0,"ok")},checkAll:function(){return""!=this.phonenumber.trim()&&""!=this.password.trim()&&""!=this.verification.trim()?(this.canSubmit=!0,"ok"):(this.canSubmit=!1,"disabled")},getPhonevalidateCode:function(){var e=this;this.validateSuccess&&this.api.user.phoneValidationCode(this.phonenumber,this.geetest.geetest_challenge,this.geetest.geetest_validate,this.geetest.geetest_seccode).then(function(t){200==t.code?e.api.user.getFakeCode(e.phonenumber).then(function(n){if(200==n.code){e.validateCode=n.model,e.backNum=60;var i=setInterval(function(){e.backNum--,0==e.backNum&&(e.backNum=0,clearInterval(i))},1e3)}else r()(t.message)}):(console.warn(t.code),r()(t.message))})},getCode:function(){var e=this;this.checkPassWord()||r()("请求填写6到20位密码"),this.checkPass&&0==this.backNum&&this.api.user.getValidateCode(this.phonenumber).then(function(t){if(document.getElementById("area").innerHTML="","200"==t.code){var n=t.model;e.area=!0,initGeetest({area:"#area",gt:n.gt,challenge:n.challenge,offline:!n.success,new_captcha:n.new_captcha,product:"float",width:"100%"},function(t){t.appendTo("#area"),t.onSuccess(function(){e.validateSuccess=!0;var n=t.getValidate();e.geetest={geetest_challenge:n.geetest_challenge,geetest_validate:n.geetest_validate,geetest_seccode:n.geetest_seccode},e.getPhonevalidateCode()})})}else r()(t.message)})},submit:function(){var e=this;if(this.canSubmit){if(this.agree.length<=0)return void r()("请同意药居士网上药店注册协议");if(this.password.trim().length<6)return void r()("请设置6位数以上密码");if(this.verification!=this.validateCode)return void r()("请填写正确的验证码");if(!this.validateSuccess)return void r()("请完成验证");this.api.user.phoneRegister(this.phonenumber,this.verification).then(function(t){"200"==t.code?e.api.user.setPassword(e.password,e.password).then(function(t){if("200"==t.code){e.$store.getters.router;e.$store.getters.orderAffirm.length>0?e.$router.push({name:"order"}):e.$router.push({name:"home"})}else r()(t.message)}):r()(t.message)})}}},created:function(){this.$store.getters.jwt&&this.$router.push("user")}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register"},[n("helmet",{attrs:{title:"注册",url:"/login"}}),e._v(" "),n("div",{staticClass:"register-form"},[n("mt-field",{attrs:{label:"手机号码:",placeholder:"请输入手机号码",type:"tel",attr:{maxlength:11}},model:{value:e.phonenumber,callback:function(t){e.phonenumber=t},expression:"phonenumber"}}),e._v(" "),n("mt-field",{staticClass:"password-text",attrs:{disableClear:!0,label:"密  码",attr:{maxlength:20},placeholder:"请设置6位数以上密码",type:e.inputType},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[n("a",{staticClass:"eye",class:e.eyeClass,on:{click:function(t){e.eyeMethod()}}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.area,expression:"area"}],attrs:{id:"area"}}),e._v(" "),n("mt-field",{attrs:{disableClear:!0,label:"短信验证:",placeholder:"短信验证码",type:"number",attr:{maxlength:6}},model:{value:e.verification,callback:function(t){e.verification=t},expression:"verification"}},[n("button",{staticClass:"get-ver",class:e.checkPhone(),on:{click:function(t){e.getCode()}}},[e._v("获取验证码"+e._s(0==e.backNum?"":e.backNum))])]),e._v(" "),n("div",{staticClass:"btn-row"},[n("button",{class:e.checkAll(),on:{click:function(t){e.submit()}}},[e._v("注册")])]),e._v(" "),e._m(0)],1),e._v(" "),n("footer-dom")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"notice"},[this._v("\n          注册即视您同意\n          "),t("a",{attrs:{href:"#/clause"}},[this._v("《药居士服务条款》")])])}]};var h=n("vSla")(f,p,!1,function(e){n("t59Q")},"data-v-fa89617e",null);t.default=h.exports},RTFJ:function(e,t){},SUzx:function(e,t){},cefO:function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=214)}({0:function(e,t){e.exports=function(e,t,n,i,r){var a,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,o=e.default);var c,l="function"==typeof o?o.options:o;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),i&&(l._scopeId=i),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=n),c){var u=l.functional,d=u?l.render:l.beforeCreate;u?l.render=function(e,t){return c.call(t),d(e,t)}:l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:o,options:l}}},127:function(e,t){},135:function(e,t,n){var i=n(0)(n(57),n(197),function(e){n(127)},null,null);e.exports=i.exports},197:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mint-checklist",class:{"is-limit":e.max<=e.currentValue.length},on:{change:function(t){e.$emit("change",e.currentValue)}}},[n("label",{staticClass:"mint-checklist-title",domProps:{textContent:e._s(e.title)}}),e._v(" "),e._l(e.options,function(t){return n("x-cell",[n("label",{staticClass:"mint-checklist-label",slot:"title"},[n("span",{staticClass:"mint-checkbox",class:{"is-right":"right"===e.align}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"mint-checkbox-input",attrs:{type:"checkbox",disabled:t.disabled},domProps:{value:t.value||t,checked:Array.isArray(e.currentValue)?e._i(e.currentValue,t.value||t)>-1:e.currentValue},on:{__c:function(n){var i=e.currentValue,r=!!n.target.checked;if(Array.isArray(i)){var a=t.value||t,o=e._i(i,a);r?o<0&&(e.currentValue=i.concat(a)):o>-1&&(e.currentValue=i.slice(0,o).concat(i.slice(o+1)))}else e.currentValue=r}}}),e._v(" "),n("span",{staticClass:"mint-checkbox-core"})]),e._v(" "),n("span",{staticClass:"mint-checkbox-label",domProps:{textContent:e._s(t.label||t)}})])])})],2)},staticRenderFns:[]}},214:function(e,t,n){e.exports=n(23)},23:function(e,t,n){"use strict";var i=n(135),r=n.n(i);Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return r.a})},3:function(e,t){e.exports=n("cfQL")},4:function(e,t){e.exports=n("SUzx")},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n.n(i);n(4),t.default={name:"mt-checklist",props:{max:Number,title:String,align:String,options:{type:Array,required:!0},value:Array},components:{XCell:r.a},data:function(){return{currentValue:this.value}},computed:{limit:function(){return this.max<this.currentValue.length}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.limit&&e.pop(),this.$emit("input",e)}}}}})},cfQL:function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=212)}({0:function(e,t){e.exports=function(e,t,n,i,r){var a,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,o=e.default);var c,l="function"==typeof o?o.options:o;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),i&&(l._scopeId=i),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=n),c){var u=l.functional,d=u?l.render:l.beforeCreate;u?l.render=function(e,t){return c.call(t),d(e,t)}:l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:o,options:l}}},116:function(e,t){},134:function(e,t,n){var i=n(0)(n(56),n(186),function(e){n(116)},null,null);e.exports=i.exports},17:function(e,t){e.exports=n("ULuq")},186:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"mint-cell",attrs:{href:e.href}},[e.isLink?n("span",{staticClass:"mint-cell-mask"}):e._e(),e._v(" "),n("div",{staticClass:"mint-cell-left"},[e._t("left")],2),e._v(" "),n("div",{staticClass:"mint-cell-wrapper"},[n("div",{staticClass:"mint-cell-title"},[e._t("icon",[e.icon?n("i",{staticClass:"mintui",class:"mintui-"+e.icon}):e._e()]),e._v(" "),e._t("title",[n("span",{staticClass:"mint-cell-text",domProps:{textContent:e._s(e.title)}}),e._v(" "),e.label?n("span",{staticClass:"mint-cell-label",domProps:{textContent:e._s(e.label)}}):e._e()])],2),e._v(" "),n("div",{staticClass:"mint-cell-value",class:{"is-link":e.isLink}},[e._t("default",[n("span",{domProps:{textContent:e._s(e.value)}})])],2),e._v(" "),e.isLink?n("i",{staticClass:"mint-cell-allow-right"}):e._e()]),e._v(" "),n("div",{staticClass:"mint-cell-right"},[e._t("right")],2)])},staticRenderFns:[]}},212:function(e,t,n){e.exports=n(22)},22:function(e,t,n){"use strict";var i=n(134),r=n.n(i);Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return r.a})},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(17),t.default={name:"mt-cell",props:{to:[String,Object],icon:String,title:String,label:String,isLink:Boolean,value:{}},computed:{href:function(){var e=this;if(this.to&&!this.added&&this.$router){var t=this.$router.match(this.to);return t.matched.length?(this.$nextTick(function(){e.added=!0,e.$el.addEventListener("click",e.handleClick)}),t.fullPath||t.path):this.to}return this.to}},methods:{handleClick:function(e){e.preventDefault(),this.$router.push(this.href)}}}}})},s9Cd:function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=216)}({0:function(e,t){e.exports=function(e,t,n,i,r){var a,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,o=e.default);var c,l="function"==typeof o?o.options:o;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),i&&(l._scopeId=i),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=n),c){var u=l.functional,d=u?l.render:l.beforeCreate;u?l.render=function(e,t){return c.call(t),d(e,t)}:l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:o,options:l}}},119:function(e,t){},12:function(e,t,n){"use strict";t.a={bind:function(e,t,n){var i=function(t){n.context&&!e.contains(t.target)&&n.context[e["@@clickoutsideContext"].methodName]()};e["@@clickoutsideContext"]={documentHandler:i,methodName:t.expression,arg:t.arg||"click"},document.addEventListener(e["@@clickoutsideContext"].arg,i)},update:function(e,t){e["@@clickoutsideContext"].methodName=t.expression},unbind:function(e){document.removeEventListener(e["@@clickoutsideContext"].arg,e["@@clickoutsideContext"].documentHandler)},install:function(e){e.directive("clickoutside",{bind:this.bind,unbind:this.unbind})}}},137:function(e,t,n){var i=n(0)(n(59),n(188),function(e){n(119)},null,null);e.exports=i.exports},188:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("x-cell",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.doCloseActive,expression:"doCloseActive"}],staticClass:"mint-field",class:[{"is-textarea":"textarea"===e.type,"is-nolabel":!e.label}],attrs:{title:e.label}},["textarea"===e.type?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"mint-field-core",attrs:{placeholder:e.placeholder,rows:e.rows,disabled:e.disabled,readonly:e.readonly},domProps:{value:e.currentValue},on:{change:function(t){e.$emit("change",e.currentValue)},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):n("input",{ref:"input",staticClass:"mint-field-core",attrs:{placeholder:e.placeholder,number:"number"===e.type,type:e.type,disabled:e.disabled,readonly:e.readonly},domProps:{value:e.currentValue},on:{change:function(t){e.$emit("change",e.currentValue)},focus:function(t){e.active=!0},input:e.handleInput}}),e._v(" "),e.disableClear?e._e():n("div",{directives:[{name:"show",rawName:"v-show",value:e.currentValue&&"textarea"!==e.type&&e.active,expression:"currentValue && type !== 'textarea' && active"}],staticClass:"mint-field-clear",on:{click:e.handleClear}},[n("i",{staticClass:"mintui mintui-field-error"})]),e._v(" "),e.state?n("span",{staticClass:"mint-field-state",class:["is-"+e.state]},[n("i",{staticClass:"mintui",class:["mintui-field-"+e.state]})]):e._e(),e._v(" "),n("div",{staticClass:"mint-field-other"},[e._t("default")],2)])},staticRenderFns:[]}},216:function(e,t,n){e.exports=n(25)},25:function(e,t,n){"use strict";var i=n(137),r=n.n(i);Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return r.a})},3:function(e,t){e.exports=n("cfQL")},4:function(e,t){e.exports=n("SUzx")},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n.n(i),a=n(12);n(4),t.default={name:"mt-field",data:function(){return{active:!1,currentValue:this.value}},directives:{Clickoutside:a.a},props:{type:{type:String,default:"text"},rows:String,label:String,placeholder:String,readonly:Boolean,disabled:Boolean,disableClear:Boolean,state:{type:String,default:"default"},value:{},attr:Object},components:{XCell:r.a},methods:{doCloseActive:function(){this.active=!1},handleInput:function(e){this.currentValue=e.target.value},handleClear:function(){this.disabled||this.readonly||(this.currentValue="")}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e)},attr:{immediate:!0,handler:function(e){var t=this;this.$nextTick(function(){[t.$refs.input,t.$refs.textarea].forEach(function(t){t&&e&&Object.keys(e).map(function(n){return t.setAttribute(n,e[n])})})})}}}}}})},t59Q:function(e,t){}});
//# sourceMappingURL=5.f93485723b20b8a17097.js.map